# 距离及相似性度量

## 简介

相似性度量是用来衡量两个或者多个样本间的相似程度的一种度量，而距离定义的是两个或者多个样本间的差异。这让我们想到两个比较基本的问题，分类和聚类。在分类和聚类问题中，衡量两个样本的相似性或距离就构建分类模型和聚类模型的关键。本文提供了大量的相似性度量和距离计算的方法。

## 分类与聚类

分类问题就是识别出样本的类别，比如医生通过病人症状判断病人得的是什么病就是一个典型的分类问题，实际上医生是通过病人的症状跟已知所以疾病的症状进行相似度衡量来诊断的。聚类分析是将多个样本分成多个类，而在聚类过程实际上是按照样本间的距离来分类的。所谓“物以类聚，人以群分”就是这个道理。


## 距离与相似度量目录

1. 欧氏距离
2. 曼哈顿距离
3. 切比雪夫距离
4. 闵可夫斯基距离
5. 马氏距离
6. 皮尔森相关系数
7. 斯皮尔曼相关系数
8. 偏相关系数
9. 复相关系数
10. 典型相关系数
11. 互信息
12. cosine相似度
13. 简单匹配系数
14. Jaccard 相似度
15. Tonimoto相似度
16. 汉明距离
17. Levenshtein编辑距离
18. Simpson相似度
19. 几何相似度
20. 超几何相似度
21. KL散度

本文涉及到的相似度计算和距离计算我们用两个样本来进行计算，如下

![equation](http://latex.codecogs.com/gif.latex?X=(x_1,x_2,...,x_n))，![equation](http://latex.codecogs.com/gif.latex?Y=(y_1,y_2,...,y_n))


### 1. 欧式距离

欧式距离是最常用，最容易理解的距离，平时我们说的平面上两点，空间中两点的距离就是两点间线段的长度。计算方法如下：

![equation](http://latex.codecogs.com/gif.latex?d=(\sum_{i=1}^{n}{(x_i-y_i})^2)^\frac{1}{2})


### 2. 曼哈顿距离

曼哈顿距离的命名来源于规划方形建筑区块的城市间，最短行车路径而来。比如在曼哈顿，如果忽略掉单向行驶道路及只存在于第三和第十四大道间的斜向车道就是一个方形区块。如下图所示，下图为从左下角到右上角的曼哈顿距离，图中展示了三条路线（红蓝黄），这三条路线距离是相同的，都为曼哈顿距离。曼哈顿距离又叫City Block 距离。

![]()

曼哈顿距离计算如下：

![equation](http://latex.codecogs.com/gif.latex?d=\sum_{i=1}^{n}{\vert{x_i-y_i}\vert})


### 3. 契比雪夫距离

契比雪夫距离定义为两个点的各个坐标数值差的最大值。契比雪夫距离又叫棋牌距离，在国际象棋中，王一步可以走到周围的八个方格中，两个方格的棋牌距离就是王从其中一个方格走到另外一个方格所需要的最小步数。如下图所示。

![]()

契比雪夫距离计算如下：

![]()

### 4. 闵可夫斯基距离

闵可夫斯基距离与之前说的三个距离比较类似计算方法如下


![]()

该公式计算出来的就是k阶闵可夫斯基距离。我们注意到当k=2时，就是欧式距离，当k取无穷大时，就是契比雪夫距离，当k=1时，就是曼哈顿距离。

## 阶段小结

从闵可夫斯基距离出发，我们可以得到上述其他的三个距离，那么显然这些距离之间会有一个共性。
大学学过代数的同学可能还记得一个叫范数的东西。向量范数我们可以理解为将向量映射到实数空间，也就是说，向量的范数是一个数，可以比较大小，范数用双竖线表示。

范数要满足以下三个条件

* 非负性：![]()
* 齐次性：![]()
* 三角不等式：![]()

下面我们看一些基本常用的范数

1-范数
‖X‖_1=∑_(i=1)^(i=n)▒|x_i | 
大家仔细看是不是跟曼哈顿距离一样一样的。
2-范数
〖‖X‖_2=(∑_(i=1)^n▒|x_i |^2 )〗^(1/2)
是不是跟欧式距离一样一样的。
无穷-范数
‖X‖_∞=max┬i⁡|x_i |
是不是刚好又和契比雪夫距离一样。
p-范数
〖‖X‖_p=(∑_(i=1)^n▒|x_i |^p )〗^(1/p)
是不是刚好又和闵可夫斯基距离一样。


